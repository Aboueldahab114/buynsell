
<!DOCTYPE html>
<html lang="en">

<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
 
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../../../../dist/assets/ico/apple-touch-icon-144-precomposed.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="../../../../dist/assets/ico/apple-touch-icon-114-precomposed.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="../../../../dist/assets/ico/apple-touch-icon-72-precomposed.png">
<link rel="apple-touch-icon-precomposed" href="../../../../dist/assets/ico/apple-touch-icon-57-precomposed.png">
<link rel="shortcut icon" href="../../../../dist/assets/ico/favicon.png">
<title>Buy'n'Sell - Post New Ad</title>
 
<link href="../../../../dist/assets/bootstrap/css/bootstrap.css" rel="stylesheet">
 
<link href="../../../../dist/assets/css/style.css" rel="stylesheet">
 
<link href="../../../../dist/assets/css/owl.carousel.css" rel="stylesheet">
<link href="../../../../dist/assets/css/owl.theme.css" rel="stylesheet">

<script src="../../../../dist/assets/js/jquery/jquery-2.1.4.js"></script>
<link href="../../../../dist/assets/summernote/summernote.css" rel="stylesheet">
<script src="../../../../dist/assets/summernote/summernote.js"></script>

<script src="../../../../dist/assets/formValidation/formValidation.min.js"></script>
<script src="../../../../dist/assets/formValidation/framework/bootstrap.min.js"></script>
 
 
<!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
 
<script>
        paceOptions = {
            elements: true
        };
    </script>
<script src="../../../../dist/assets/js/pace.min.js"></script>
</head>
<body>
<div id="wrapper">

{{> client/header}}
 
<div class="main-container">
<div class="container">

{{#if success_msg}}
            <div class="alert alert-success">
                                <button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button>
                                <span><b>{{success_msg}}</b></span>
            </div>
          {{/if}}

          {{#if error_msg}}
            <div class="alert alert-danger">
                                <button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button>
                                <span><b>{{error_msg}}</b></span>
            </div>
          {{/if}}

          {{#if error}}
            <div class="alert alert-danger">
                                <button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button>
                                <span><b>{{error}}</b></span>
            </div>
{{/if}}
<div class="row">
<div class="col-md-9 page-content">
<div class="inner-box category-content">
<h2 class="title-2 uppercase"><strong> <i class="icon-docs"></i> Post a Free Classified
Ad</strong></h2>
<div class="row">
<div class="col-sm-12">
<form id="basicBootstrapForm" class="form-horizontal" method="post" action="/account/post-ad/edit/{{post._id}}">
<fieldset>
   
<div class="form-group">
<label class="col-md-3 control-label" for="Adtitle">Ad title</label>
<div class="col-md-8">
<input id="Adtitle" name="name" value="{{post.name}}" class="form-control input-md" type="text">
</div>
</div>

<div class="form-group">
<label class="col-md-3 control-label">Category</label>
<div class="col-md-8">
<select name="category" id="category-group" class="form-control">
<option selected="selected" value="{{postCategory._id}}"> {{postCategory.category_name}}</option>
{{#each categories}}
<option value="{{_id}}">{{category_name}}</option>
{{/each}}
</select>
</div>
</div>
 
<div class="form-group">
<label class="col-md-3 control-label" for="textarea">Ad Description </label>
<div class="col-md-8">
<textarea class="form-control" id="summernote_1" name="description" >{{post.description}}</textarea>
</div>
</div>
 
<div class="form-group">
<label class="col-md-3 control-label" for="Price">Price</label>
<div class="col-md-4">
<div class="input-group"><span class="input-group-addon">&#8377;</span>
<input id="Price" name="price" class="form-control" value="{{post.price}}" type="text">
</div>
</div>
</div>

<div class="content-subheading"><i class="icon-user fa"></i> <strong>Ad Image</strong></div>



<div class="form-group">


                      <div class="panel-body">

                      <div class="img_holder">
                        <script>
                        function ConfirmDelete(url) {
                        if (confirm("Are you sure you want to delete this?")) {
                          window.open(url,"_self");
                        }
                        else {false;}
                        }
                        </script>

                      <div class="img_holder">
                       <ul>

                       <li>

                       <button style="margin: 0px 17px 22px 17px;" type="button" class="btn btn-warning" data-toggle="modal" data-target="#myModal">Upload image</button>

                       </li>

                       {{#post.image}}


                        <li style="float: left;margin: 18px;">

                              <img src="/uploads/posts/{{../post._id}}/{{img}}" width="200" height="150">
                            <!-- Delete ProductImage Confirmation Alert! -->
                            <div class="img_trash" style="margin: -47px 60px 0px 60px;">
                              <button class="btn btn-danger" Onclick="return ConfirmDelete('/account/post-ad/deleteimage/{{../post._id}}/{{img}}');"><i class="fa fa-trash"></i> Delete</button>
                            </div>
                        </li>

                         {{/post.image}}

                       </ul>
                      </div>

                  </div>


                 </div>






<div class="content-subheading"><i class="icon-user fa"></i> <strong>Seller
information</strong></div>
 
<div class="form-group">
<label class="col-md-3 control-label" for="textinput-name">Seller Name</label>
<div class="col-md-8">
<input id="textinput-name" name="textinput-name" value="{{userlist.fname}}" class="form-control input-md" type="text" disabled>
</div>
</div>
 
<div class="form-group">
<label class="col-md-3 control-label" for="seller-email"> Seller
Email</label>
<div class="col-md-8">
<input id="seller-email" name="" class="form-control" value="{{userlist.email}}" type="text" disabled>

</div>
</div>
 
<div class="form-group">
<label class="col-md-3 control-label" for="seller-Number">Phone
Number</label>
<div class="col-md-8">
<input id="seller-Number" name="" value="{{userlist.mnumber}}" class="form-control input-md" type="text" disabled>
</div>
</div>
 
<div class="form-group">
<label class="col-md-3 control-label" for="seller-Location">Location</label>
<div class="col-md-8">
<select id="seller-location" name="seller_location" class="form-control">
<option value="{{place._id}}" selected="selected">{{place.place_name}}</option>
{{#each places}}
<option value="{{_id}}">{{place_name}}</option>
{{/each}}
</select>
</div>
</div> 
 
<div class="form-group">
<label class="col-md-3 control-label"></label>
<div class="col-md-8"><button type="submit" class="btn btn-primary" title="Login"><span><span>Finish</span></span></button></div>
</div>
</fieldset>
</form>

<!-- Modal -->
          <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
            <div class="modal-dialog">
              <div class="modal-content">
                <form method="post" id="upload_form" name="upload_form" action="/account/post-ad/upload/{{post._id}}" enctype="multipart/form-data">
                  <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                    <h4 class="modal-title" id="myModalLabel">Upload Product Image</h4>
                  </div>
                  <div class="modal-body">
                    <div class="form-group">
                    <span class="btn btn-info btn-file">
                      Select file<input type="file" name="post_image" id="upload_file">
                    </span>
                    </div>
                  </div>
                  <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                    <button type="submit" id="saveButton" name="saveButton" class="btn btn-primary">Upload</button>
                  </div>
                </form>
              </div>
            </div>
          </div>


</div>
</div>
</div>
</div>
 
<div class="col-md-3 reg-sidebar">
<div class="reg-sidebar-inner text-center">
<div class="promo-text-box"><i class=" icon-picture fa fa-4x icon-color-1"></i>
<h3><strong>Post a Free Classified</strong></h3>
<p> Post your free online classified ads with us. Lorem ipsum dolor sit amet, consectetur
adipiscing elit. </p>
</div>
<div class="panel sidebar-panel">
<div class="panel-heading uppercase">
<small><strong>How to sell quickly?</strong></small>
</div>
<div class="panel-content">
<div class="panel-body text-left">
<ul class="list-check">
<li> Use a brief title and description of the item</li>
<li> Make sure you post in the correct category</li>
<li> Add nice photos to your ad</li>
<li> Put a reasonable price</li>
<li> Check the item before publish</li>
</ul>
</div>
</div>
</div>
</div>
</div>
 
</div>
 
</div>
 
</div>
 
{{> client/footer}}
 
</div>

<script>
$(document).ready(function() {
    

    $('#basicBootstrapForm').formValidation({
        framework: 'bootstrap',
        excluded: [':disabled'],
        icon: {
              valid: 'fa fa-check',
              invalid: 'fa fa-times',
              validating: 'fa fa-refresh'
        },
        fields: {
            name: {
                validators: {
                    notEmpty: {
                        message: 'Ad Title is required'
                    }
                }
            },


            description: {
                    validators: {
                        callback: {
                            message: 'Description is required and cannot be empty',
                            callback: function(value, validator, $field) {
                                var code = $('[name="description"]').summernote('code');
                                // <p><br></p> is code generated by Summernote for empty content
                                return (code !== '' && code !== '<p><br></p>');
                            }
                        }
                    }
            },



            category: {
                validators: {
                  callback: {
                          message: 'Category is required',
                          callback: function(value, validator, $field) {
                              // Get the selected options
                              var options = validator.getFieldElements('category').val();
                              return (options != 'Select' );
                          }
                  }
                }
            },

            seller_location: {
                validators: {
                  callback: {
                          message: 'Seller Location is required',
                          callback: function(value, validator, $field) {
                              // Get the selected options
                              var options = validator.getFieldElements('seller_location').val();
                              return (options != 'Select' );
                          }
                  }
                }
            },


            price: {
                validators: {
                    notEmpty: {
                        message: 'Price is required'
                    },
                    numeric: {
                            message: 'Not a valied Amount . Don\'t use ( , )',
                            // The default separators
                            thousandsSeparator:'',
                            decimalSeparator: '.'
                    }
                }
            },

  

        }
    })
    .find('[name="description"]')
                  $('#summernote_1').summernote({
                  height: 200,                 // set editor height
                  minHeight: null,             // set minimum height of editor
                  maxHeight: null,             // set maximum height of editor
                  focus: false                  // set focus to editable area after initializing summernote
                })
                .on('summernote.change', function(customEvent, contents, $editable) {
                    // Revalidate the content when its value is changed by Summernote
                    $('#basicBootstrapForm').formValidation('revalidateField', 'description');
                })
    .end();

});
</script>
 
<!-- Image Validation -->
<script>
$(document).ready(function() {
    $('#upload_form').formValidation({
        framework: 'bootstrap',
        icon: {
              valid: 'fa fa-check',
              invalid: 'fa fa-times',
              validating: 'fa fa-refresh'
        },
        fields: {
            post_image: {
                validators: {
                  notEmpty: {
                      message: 'Select a File'
                  },
                    file: {
                        extension: 'jpeg,jpg,png',
                        type: 'image/jpeg,image/png',
                        maxSize: 2097152,   // 2048 * 1024
                        message: 'The selected file is not valid'
                 }
                }
            }
        }
    });
});
</script> 
 
 
<!--<script src="../../../../dist/ajax/libs/jquery/1.10.1/jquery.min.js"></script>-->
<script src="../../../../dist/assets/bootstrap/js/bootstrap.min.js"></script>
 
<script src="../../../../dist/assets/js/fileinput.min.js" type="text/javascript"></script>
<script>
    // initialize with defaults
    $("#input-upload-img1").fileinput();
    $("#input-upload-img2").fileinput();
    $("#input-upload-img3").fileinput();
    $("#input-upload-img4").fileinput();
    $("#input-upload-img5").fileinput();


</script>
 
<script src="../../../../dist/assets/js/owl.carousel.min.js"></script>
 
<script src="../../../../dist/assets/js/jquery.matchHeight-min.js"></script>
 
<script src="../../../../dist/assets/js/hideMaxListItem.js"></script>
 
<script src="../../../../dist/assets/plugins/jquery.fs.scroller/jquery.fs.scroller.js"></script>
<script src="../../../../dist/assets/plugins/jquery.fs.selecter/jquery.fs.selecter.js"></script>
 
<script src="../../../../dist/assets/js/script.js"></script>
</body>


</html>
